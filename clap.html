token='YzEzZTA3YjgtNTlmYy00MTc5LWFlMzktODRkNmFjZjBlZjkz'
uuid='8a64883a64c8a28f'
userid='49957126'

def api(meth,url,data,token,uuid,userid):
	head={
        "appver" : "3.5.1",
        "userid" : userid,
        "uuid" : uuid,
        "token" : token,
        "content-type" : "application/json; charset=utf-8"
	}
	if meth=='post':
		return post(url=url,headers=head,data=data)
	else:
		return get(url=url,headers=head)
		
while True:
	url="https://newfeeds.cc.lerjin.com/feeds/home-pull?form=user%20refresh"
	host="newfeeds.cc.lerjin.com"
	g=api('get',url,'',token,uuid,userid).json()
	n=len(g)
	for i in range(n):
		if len(g[i])<=10: break
		cv=g[i]["sourceId"]
		pull=g[i]["pullFrom"]
		#  CLAP
		url="https://cpv.cc.lerjin.com/behavior/event"
		host="cpv.cc.lerjin.com"
		data="{\"sourceId\":\""+cv+"\",\"pullFrom\":\""+pull+"\",\"eventType\":\"CLAP\"}"
		api('post',url,data,token,uuid,userid)
